<!doctype html>
<html lang=en >
<head>
<meta charset=utf-8 >
<title>Hash parse as object</title>
<meta name=viewport content='width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no' >
<meta name=description content='' >
<meta name=keywords content='WebGL,Three.js,Tween.js,JavaScript,GitHub,FOSS,3D,STEM' >
<meta name=date content='' >
</head>
<body>
<script>

	init();

	function init() {

		var css, contents;
		var css = document.body.appendChild( document.createElement( 'style' ) );
		css.innerHTML =

			'body { font: 12pt monospace; margin: 0 auto; max-width: 50em; }' +

			'a { color: crimson; text-decoration: none; }' +

			'button, input[type=button] { background-color: #eee; border: 2px #eee solid; color: #888; }' +

			'input[type=range] { -webkit-appearance: none; -moz-appearance: none; background-color: silver; width: 160px; }' +
			'input[type=range]::-moz-range-thumb { background-color: #888; border-radius: 0; width: 10px; }' +
			'input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; background-color: #888; height: 20px; width: 10px; }' +

//			'#contents { margin: 0 20px; max-width: 300px; position: absolute; }' +

		'';

		contents = document.body.appendChild( document.createElement( 'div' ) );
		contents.id = 'contents';
		contents.innerHTML =

			'<h2>' +
				'<a href="" >' + document.title + '</a>' +
				'<a href=http://jaanga.github.io/ > &#x24D8; </a>' +
			'</h2>' +

			'<div id=info ></div>' +

		'';

		location.hash = 'aaa=1&bbb=99&name=Bob';
		params = parseParms( location.hash.slice( 1 ) );

console.log( 'params', params );

		keys = Object.keys( params ).sort();

		txt = '';

		for ( var i = 0; i < keys.length; i++ ) {

			txt += keys[ i ] + ": " + params[ keys[ i ] ] + '<br>';

		}

		info.innerHTML = txt;

	}

	function parseParms( str ) {

		var hashes = str.split( '&' ), data = {aaa: 23, thing: 999 }, hash;

		for ( var i = 0; i < hashes.length; i++ ) {

			hash = hashes[ i ].split( '=' );

			if ( hash.length < 2 ) {

console.log( 'hash', hash );

				hash.push( '' );

			}

			data[ decodeURIComponent( hash[ 0 ] ) ] = decodeURIComponent( hash[ 1 ] );

		}

		return data;

	}

</script>
</body>
</html>